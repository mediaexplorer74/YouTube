<Page
    x:Class="YouTube.Settings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:YouTube"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="Black">

    <Grid Background="Black">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <local:navbar x:Name="navbar" Grid.Row="0"/>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Hidden">
            <StackPanel Margin="20">
                <TextBlock Text="Настройки" 
                           Style="{StaticResource TitleTextBlockStyle}" 
                           Foreground="White"
                           Margin="0,0,0,20"/>

                <!-- API Base URL Settings -->
                <TextBlock Text="API Base URL" 
                           Style="{StaticResource SubtitleTextBlockStyle}" 
                           Foreground="White"
                           Margin="0,0,0,10"/>
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="ApiBaseUrlTextBox" 
                            Text="{x:Bind ApiBaseUrl, Mode=TwoWay}"
                            PlaceholderText="Enter API Base URL"
                            Background="#272727"
                            Foreground="White"
                            BorderBrush="#444444"
                            TextChanged="ApiBaseUrlTextBox_TextChanged"/>
                    <Button Grid.Column="1" 
                            Content="Сохранить" 
                            Margin="10,0,0,0"
                            Click="SaveApiBaseUrl_Click"
                            Background="#1A1A1A"
                            BorderThickness="0"
                            Padding="12,6"/>
                </Grid>

                <!-- API Key Settings -->
                <TextBlock Text="YouTube API Key" 
                           Style="{StaticResource SubtitleTextBlockStyle}" 
                           Foreground="White"
                           Margin="0,0,0,10"/>
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="ApiKeyTextBox" 
                            Text="{x:Bind ApiKey, Mode=TwoWay}"
                            PlaceholderText="Enter YouTube API Key"
                            Background="#272727"
                            Foreground="White"
                            BorderBrush="#444444"
                            TextChanged="ApiKeyTextBox_TextChanged"/>
                    <Button Grid.Column="1" 
                            Content="Сохранить" 
                            Margin="10,0,0,0"
                            Click="SaveApiKey_Click"
                            Background="#1A1A1A"
                            BorderThickness="0"
                            Padding="12,6"/>
                </Grid>

                <!-- Channel Thumbnails Toggle -->
                <TextBlock Text="Показывать иконки каналов"
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           Foreground="White"
                           Margin="0,0,0,10"/>
                <ToggleSwitch x:Name="ChannelThumbnailsToggle"
                              Header="Включить иконки каналов"
                              IsOn="{x:Bind EnableChannelThumbnails, Mode=TwoWay}"
                              Toggled="ChannelThumbnailsToggle_Toggled"
                              OffContent="Отключено"
                              OnContent="Включено"
                              Margin="0,0,0,20"/>
            </StackPanel>
        </ScrollViewer>

        <!-- Project and Version Info -->
        <StackPanel Grid.Row="2" Margin="20,0,20,10">
            <TextBlock x:Name="ProjectInfoText" 
                      Text="LegacyProjects" 
                      Foreground="#666666"
                      HorizontalAlignment="Center"
                      FontSize="12"/>
            <TextBlock x:Name="VersionInfoText" 
                      Text="Version: 1.0.0.0" 
                      Foreground="#666666"
                      HorizontalAlignment="Center"
                      FontSize="12"
                      Margin="0,5,0,0"/>
        </StackPanel>

        <local:tabbar x:Name="tabbar" Grid.Row="3"/>
    </Grid>
</Page>
